<!DOCTYPE html>
<meta charset="utf-8">
  <head>
    <title>BigWig Test</title>
    <script type="text/javascript" src="./require.js"></script>
  </head>

  <body>
    <div id="vis"></div>
  </body>

<script type="text/javascript">
    requirejs.config({
        baseUrl: '.',
        paths: {
            // the left side is the module ID,
            // the right side is the path to
            // the jQuery file, relative to baseUrl.
            // Also, the path should NOT include
            // the '.js' file extension. This example
            // is using jQuery 1.9.0 located at
            // js/lib/jquery-1.9.0.js, relative to
            // the HTML page.
            jquery: 'jquery.min'
        }
    });

    require(['bigwig'], function(bigwig) {
      bbURI = './test.bigwig';
      var cb, err;
      bigwig.makeBwg(bbURI,
                function(_bb, _err) {
                    bb = _bb;
                    err = _err;
                    cb = true;

                    $('body').append("<h3>Information about test.bigwig" + "</h3>");
                    $('body').append("Version: " + bb.version + "<br>");
                    $('body').append("Number of Zoom Levels: " + bb.numZoomLevels + "<br>");
                    //bb.readWigData(12, 25357722, 25403865, function(data){
                    bb.readWigData(1, 0, 249250620, function(data){
                      console.log(data.length, data);
                      $('body').append("Length: "+data.length+"<br>");
                      $('body').append("readWigData: ");
                      $('body').append($.map(data, function(obj){return JSON.stringify(obj.score)}).join(' '));
                      $('body').append("<br>");
                    });
                });

      //console.log('test');
    });
    /*var bigwig = require(['all'], function(all) {
      console.log('test');
    });
    */
    //var bigWigDataProvider = new BigWigDataProvider({url: "./test.bigwig"});
</script>
